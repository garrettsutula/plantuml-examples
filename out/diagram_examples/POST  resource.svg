<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1016px" preserveAspectRatio="none" style="width:602px;height:1016px;" version="1.1" viewBox="0 0 602 1016" width="602px" zoomAndPan="magnify"><defs><filter height="300%" id="f10o8ir2v4xc6z" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacingAndGlyphs" textLength="130" x="231.5" y="44.2637">POST /resource</text><rect fill="#ADD8E6" height="932.6016" style="stroke: #000000; stroke-width: 1.0;" width="376" x="198" y="56.2188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="118" x="327" y="69.7139">Company Platform</text><rect fill="#FFFFFF" filter="url(#f10o8ir2v4xc6z)" height="673.1094" style="stroke: #000000; stroke-width: 1.0;" width="10" x="245.5" y="206.4922"/><rect fill="#FFFFFF" filter="url(#f10o8ir2v4xc6z)" height="30.3516" style="stroke: #000000; stroke-width: 1.0;" width="10" x="497.5" y="332.25"/><rect fill="#FFFFFF" filter="url(#f10o8ir2v4xc6z)" height="14" style="stroke: #000000; stroke-width: 1.0;" width="10" x="497.5" y="548.0625"/><rect fill="#FFFFFF" filter="url(#f10o8ir2v4xc6z)" height="65.0547" style="stroke: #000000; stroke-width: 2.0;" width="296" x="13" y="221.4922"/><rect fill="#FFFFFF" filter="url(#f10o8ir2v4xc6z)" height="65.0547" style="stroke: #000000; stroke-width: 2.0;" width="296" x="13" y="377.6016"/><rect fill="#FFFFFF" filter="url(#f10o8ir2v4xc6z)" height="310.5391" style="stroke: #000000; stroke-width: 2.0;" width="567" x="13" y="577.0625"/><rect fill="#FFFFFF" height="182.9453" style="stroke: none; stroke-width: 1.0;" width="567" x="13" y="642.1172"/><rect fill="#FFFFFF" height="62.5391" style="stroke: none; stroke-width: 1.0;" width="567" x="13" y="825.0625"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="64" x2="64" y1="157.7891" y2="904.6016"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="250" x2="250" y1="157.7891" y2="904.6016"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="502" x2="502" y1="157.7891" y2="904.6016"/><rect fill="#FFFFFF" filter="url(#f10o8ir2v4xc6z)" height="49.2188" style="stroke: #000000; stroke-width: 1.5;" width="79" x="23" y="103.5703"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="30" x="47.5" y="125.1035">«UI»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="30" y="142.7129">Client App</text><rect fill="#FFFFFF" filter="url(#f10o8ir2v4xc6z)" height="49.2188" style="stroke: #000000; stroke-width: 1.5;" width="79" x="23" y="903.6016"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="30" x="47.5" y="925.1348">«UI»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="30" y="942.7441">Client App</text><rect fill="#FFFFFF" filter="url(#f10o8ir2v4xc6z)" height="49.2188" style="stroke: #000000; stroke-width: 1.5;" width="93" x="202" y="103.5703"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="62" x="217.5" y="125.1035">«Service»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="209" y="142.7129">Microservice</text><rect fill="#FFFFFF" filter="url(#f10o8ir2v4xc6z)" height="49.2188" style="stroke: #000000; stroke-width: 1.5;" width="93" x="202" y="903.6016"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="62" x="217.5" y="925.1348">«Service»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="79" x="209" y="942.7441">Microservice</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="467" y="137.1035">«NOSQL»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="129" x="435" y="154.7129">Document Database</text><path d="M484.5,86.5703 C484.5,76.5703 502.5,76.5703 502.5,76.5703 C502.5,76.5703 520.5,76.5703 520.5,86.5703 L520.5,112.5703 C520.5,122.5703 502.5,122.5703 502.5,122.5703 C502.5,122.5703 484.5,122.5703 484.5,112.5703 L484.5,86.5703 " fill="#FFFFFF" filter="url(#f10o8ir2v4xc6z)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M484.5,86.5703 C484.5,96.5703 502.5,96.5703 502.5,96.5703 C502.5,96.5703 520.5,96.5703 520.5,86.5703 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="65" x="467" y="918.1348">«NOSQL»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="129" x="435" y="935.7441">Document Database</text><path d="M484.5,948.8203 C484.5,938.8203 502.5,938.8203 502.5,938.8203 C502.5,938.8203 520.5,938.8203 520.5,948.8203 L520.5,974.8203 C520.5,984.8203 502.5,984.8203 502.5,984.8203 C502.5,984.8203 484.5,984.8203 484.5,974.8203 L484.5,948.8203 " fill="#FFFFFF" filter="url(#f10o8ir2v4xc6z)" style="stroke: #000000; stroke-width: 1.5;"/><path d="M484.5,948.8203 C484.5,958.8203 502.5,958.8203 502.5,958.8203 C502.5,958.8203 520.5,958.8203 520.5,948.8203 " fill="none" style="stroke: #000000; stroke-width: 1.5;"/><rect fill="#FFFFFF" filter="url(#f10o8ir2v4xc6z)" height="673.1094" style="stroke: #000000; stroke-width: 1.0;" width="10" x="245.5" y="206.4922"/><rect fill="#FFFFFF" filter="url(#f10o8ir2v4xc6z)" height="30.3516" style="stroke: #000000; stroke-width: 1.0;" width="10" x="497.5" y="332.25"/><rect fill="#FFFFFF" filter="url(#f10o8ir2v4xc6z)" height="14" style="stroke: #000000; stroke-width: 1.0;" width="10" x="497.5" y="548.0625"/><polygon fill="#000000" points="233.5,202.4922,243.5,206.4922,233.5,210.4922,237.5,206.4922" style="stroke: #000000; stroke-width: 1.0;"/><line style="stroke: #000000; stroke-width: 1.0;" x1="64.5" x2="239.5" y1="206.4922" y2="206.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="162" x="71.5" y="185.2842">Create Resource Instance</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="93" x="71.5" y="201.6357">POST /resource</text><path d="M13,221.4922 L94,221.4922 L94,229.4922 L84,239.4922 L13,239.4922 L13,221.4922 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="65.0547" style="stroke: #000000; stroke-width: 2.0;" width="296" x="13" y="221.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="36" x="28" y="235.9873">break</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="146" x="109" y="234.9111">[Request Validation Failed]</text><polygon fill="#000000" points="75.5,274.5469,65.5,278.5469,75.5,282.5469,71.5,278.5469" style="stroke: #000000; stroke-width: 1.0;"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="69.5" x2="244.5" y1="278.5469" y2="278.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="81.5" y="257.3389">Error</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="81.5" y="273.6904">400 - Bad Request</text><polygon fill="#000000" points="485.5,328.25,495.5,332.25,485.5,336.25,489.5,332.25" style="stroke: #000000; stroke-width: 1.0;"/><line style="stroke: #000000; stroke-width: 1.0;" x1="255.5" x2="491.5" y1="332.25" y2="332.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="60" x="262.5" y="311.042">Query DB</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="183" x="262.5" y="327.3936">POST .../{database-name}/_find</text><polygon fill="#000000" points="266.5,358.6016,256.5,362.6016,266.5,366.6016,262.5,362.6016" style="stroke: #000000; stroke-width: 1.0;"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="260.5" x2="501.5" y1="362.6016" y2="362.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="64" x="272.5" y="357.7451">Document</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="340.5" y="357.7451">[0..1]</text><path d="M13,377.6016 L94,377.6016 L94,385.6016 L84,395.6016 L13,395.6016 L13,377.6016 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="65.0547" style="stroke: #000000; stroke-width: 2.0;" width="296" x="13" y="377.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="36" x="28" y="392.0967">break</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="130" x="109" y="391.0205">[Unique Key Constraint]</text><polygon fill="#000000" points="75.5,430.6563,65.5,434.6563,75.5,438.6563,71.5,434.6563" style="stroke: #000000; stroke-width: 1.0;"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="69.5" x2="244.5" y1="434.6563" y2="434.6563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="81.5" y="413.4482">Error</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="76" x="81.5" y="429.7998">409 - Conflict</text><line style="stroke: #000000; stroke-width: 1.0;" x1="255.5" x2="297.5" y1="472.0078" y2="472.0078"/><line style="stroke: #000000; stroke-width: 1.0;" x1="297.5" x2="297.5" y1="472.0078" y2="485.0078"/><line style="stroke: #000000; stroke-width: 1.0;" x1="256.5" x2="297.5" y1="485.0078" y2="485.0078"/><polygon fill="#000000" points="266.5,481.0078,256.5,485.0078,266.5,489.0078,262.5,485.0078" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="138" x="262.5" y="467.1514">Generate Resource Id</text><polygon fill="#000000" points="485.5,544.0625,495.5,548.0625,485.5,552.0625,489.5,548.0625" style="stroke: #000000; stroke-width: 1.0;"/><line style="stroke: #000000; stroke-width: 1.0;" x1="255.5" x2="491.5" y1="548.0625" y2="548.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="162" x="262.5" y="510.5029">Create Resource Instance</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="223" x="262.5" y="526.8545">POST /{database-name}/{document-id}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="266.5" y="543.2061">{ ... }</text><polygon fill="#000000" points="266.5,558.0625,256.5,562.0625,266.5,566.0625,262.5,562.0625" style="stroke: #000000; stroke-width: 1.0;"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="260.5" x2="501.5" y1="562.0625" y2="562.0625"/><path d="M13,577.0625 L74,577.0625 L74,585.0625 L64,595.0625 L13,595.0625 L13,577.0625 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="310.5391" style="stroke: #000000; stroke-width: 2.0;" width="567" x="13" y="577.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="16" x="28" y="591.5576">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="80" x="89" y="590.4814">[Service Error]</text><polygon fill="#000000" points="75.5,630.1172,65.5,634.1172,75.5,638.1172,71.5,634.1172" style="stroke: #000000; stroke-width: 1.0;"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="69.5" x2="244.5" y1="634.1172" y2="634.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="99" x="81.5" y="612.9092">503 Service Error</text><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="31" x="81.5" y="629.2607">Error</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="580" y1="643.1172" y2="643.1172"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="99" x="18" y="654.5361">[Id Already Exists]</text><line style="stroke: #000000; stroke-width: 1.0;" x1="255.5" x2="297.5" y1="680.3047" y2="680.3047"/><line style="stroke: #000000; stroke-width: 1.0;" x1="297.5" x2="297.5" y1="680.3047" y2="693.3047"/><line style="stroke: #000000; stroke-width: 1.0;" x1="256.5" x2="297.5" y1="693.3047" y2="693.3047"/><polygon fill="#000000" points="266.5,689.3047,256.5,693.3047,266.5,697.3047,262.5,693.3047" style="stroke: #000000; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="96" x="262.5" y="675.4482">Generate new ID</text><polygon fill="#000000" points="490.5,752.3594,500.5,756.3594,490.5,760.3594,494.5,756.3594" style="stroke: #000000; stroke-width: 1.0;"/><line style="stroke: #000000; stroke-width: 1.0;" x1="255.5" x2="496.5" y1="756.3594" y2="756.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="162" x="262.5" y="718.7998">Create Resource Instance</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="223" x="262.5" y="735.1514">POST /{database-name}/{document-id}</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="266.5" y="751.5029">{ ... }</text><polygon fill="#000000" points="266.5,766.3594,256.5,770.3594,266.5,774.3594,262.5,770.3594" style="stroke: #000000; stroke-width: 1.0;"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="260.5" x2="501.5" y1="770.3594" y2="770.3594"/><polygon fill="#000000" points="75.5,813.0625,65.5,817.0625,75.5,821.0625,71.5,817.0625" style="stroke: #000000; stroke-width: 1.0;"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="69.5" x2="244.5" y1="817.0625" y2="817.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="51" x="81.5" y="795.8545">Success</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="70" x="81.5" y="812.2061">201 Created</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="13" x2="580" y1="826.0625" y2="826.0625"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="23" x="18" y="837.4814">[OK]</text><polygon fill="#000000" points="75.5,875.6016,65.5,879.6016,75.5,883.6016,71.5,879.6016" style="stroke: #000000; stroke-width: 1.0;"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="69.5" x2="249.5" y1="879.6016" y2="879.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="51" x="81.5" y="858.3936">Success</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="70" x="81.5" y="874.7451">201 Created</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="77" x="513" y="13.3809">CRUD Examples</text><text fill="#888888" font-family="sans-serif" font-size="10" lengthAdjust="spacingAndGlyphs" textLength="292" x="150.5" y="1003.2012">Company Architecture Team - Fri May 22 16:27:44 EDT 2020</text><!--MD5=[d9571ee334143e0adf266a057a99d8e0]
@startuml POST /resource
!include include.puml

header CRUD Examples
title POST /resource

participant "Client App" as client <<UI>>
box "Company Platform" #LightBlue
  participant "Microservice" as service <<Service>>
  database "Document Database" as db <<NOSQL>>
end box

client -> service: **Create Resource Instance**\nPOST /resource
activate service
break Request Validation Failed
  service - -> client: **Error**\n400 - Bad Request
end
service -> db: **Query DB**\nPOST .../{database-name}/_find
activate db
db - -> service: **Document** [0..1]
deactivate db
break Unique Key Constraint
  service - -> client: **Error**\n409 - Conflict
end
service -> service: **Generate Resource Id**
service -> db: **Create Resource Instance**\nPOST /{database-name}/{document-id}\n { ... }
activate db
db - -> service
deactivate db
alt Service Error
    service - -> client : 503 Service Error\n**Error** 
else Id Already Exists
    service -> service: Generate new ID
    service -> db : **Create Resource Instance**\nPOST /{database-name}/{document-id}\n { ... }
    db - -> service
    service - -> client : **Success**\n201 Created
else OK
    deactivate db
    service - -> client : **Success**\n201 Created
    deactivate service
end

@enduml

@startuml POST /resource
footer Company Architecture Team - Fri May 22 16:27:44 EDT 2020


scale max 2048 width

skinparam actor {
  BorderColor Black
  BackgroundColor<< Human >> LightGrey
  BackgroundColor White
}

skinparam folder {
  BorderColor Black
  BackgroundColor<< Human >> LightGrey
  BackgroundColor White
}

skinparam ArrowColor Black
skinparam BackgroundColor White
skinparam CloudBackgroundColor white
skinparam DatabaseBackgroundColor White
skinparam NodeBackgroundColor white

skinparam class {
    BackgroundColor LightGrey
    BorderColor Black
}

skinparam note {
  BackgroundColor #FFEFD7
  BorderColor Black
}

skinparam boundary {
  BackgroundColor White
  BorderColor Black
  FontColor Black
}

skinparam participant {
  BackgroundColor White
  BorderColor Black
  FontColor Black
}

skinparam card {
  BackgroundColor White
  BorderColor Black
}

skinparam queue {
  BackgroundColor White
  BorderColor Black
  FontColor Black
}

skinparam state {
  BackgroundColor White
  BorderColor Black
  FontColor Black
}

skinparam storage {
  BackgroundColor White
  BorderColor Black
  FontColor Black
}

skinparam collections {
  BackgroundColor White
  BorderColor Black
  FontColor Black
}

skinparam entity {
  BackgroundColor White
  BorderColor Black
  FontColor Black
}

skinparam SequenceBoxBorderColor Black

skinparam EntityBackgroundColor White
skinparam EntityBorderColor Black

skinparam activity {
  BackgroundColor white
  BarColor black
  BorderColor black
  DiamondBackgroundColor white
  DiamondBorderColor black
  EndColor black
  StartColor black
}

skinparam sequence {
    MessageAlignment left

    LifeLineBorderColor Black
    LifeLineBackgroundColor White
}

skinparam usecase {
	BackgroundColor White
	BorderColor Black

	BackgroundColor<< Main >> YellowGreen
	BorderColor<< Main >> YellowGreen
}

skinparam interface {
    BackgroundColor White

    BorderColor Black
}

skinparam component {
    BackgroundColor White
  
    BorderColor Black
}

skinparam rectangle {
    BackgroundColor White
	roundCorner 25
}

header CRUD Examples
title POST /resource

participant "Client App" as client <<UI>>
box "Company Platform" #LightBlue
  participant "Microservice" as service <<Service>>
  database "Document Database" as db <<NOSQL>>
end box

client -> service: **Create Resource Instance**\nPOST /resource
activate service
break Request Validation Failed
  service - -> client: **Error**\n400 - Bad Request
end
service -> db: **Query DB**\nPOST .../{database-name}/_find
activate db
db - -> service: **Document** [0..1]
deactivate db
break Unique Key Constraint
  service - -> client: **Error**\n409 - Conflict
end
service -> service: **Generate Resource Id**
service -> db: **Create Resource Instance**\nPOST /{database-name}/{document-id}\n { ... }
activate db
db - -> service
deactivate db
alt Service Error
    service - -> client : 503 Service Error\n**Error** 
else Id Already Exists
    service -> service: Generate new ID
    service -> db : **Create Resource Instance**\nPOST /{database-name}/{document-id}\n { ... }
    db - -> service
    service - -> client : **Success**\n201 Created
else OK
    deactivate db
    service - -> client : **Success**\n201 Created
    deactivate service
end

@enduml

PlantUML version 1.2020.10(Sun May 17 05:35:57 EDT 2020)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_221-b11
Operating System: Windows 10
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>